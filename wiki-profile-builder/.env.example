# Environment Variables Configuration

This file contains all the environment variables needed for the Wiki Profile Builder application.

## Setup Instructions

1. Copy this file to `.env.local` in the `wiki-profile-builder` directory
2. Fill in the actual values for each variable
3. **Never commit `.env.local` to version control**

---

## Firebase Configuration (Required)

These variables are required for authentication to work.

### How to get these values:
1. Go to https://console.firebase.google.com/
2. Select your project (or create a new one)
3. Click the gear icon â†’ Project Settings
4. Scroll down to "Your apps" and select or add a web app
5. Copy the configuration values

```env
# Firebase API Key
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key_here

# Firebase Auth Domain (usually: your-project-id.firebaseapp.com)
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com

# Firebase Project ID
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id

# Firebase Storage Bucket (usually: your-project-id.appspot.com)
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com

# Firebase Messaging Sender ID
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012

# Firebase App ID
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890
```

---

## Google Gemini AI Configuration (Optional)

This is optional. If not provided, the app will use template-based profile generation.

### How to get an API key:
1. Visit https://makersuite.google.com/app/apikey
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy the generated key

```env
# Google Gemini API Key for AI-powered features
# Leave empty or omit this variable to use template-based generation
GEMINI_API_KEY=your_gemini_api_key_here
```

---

## Notes

### Public vs Private Variables

- **NEXT_PUBLIC_*** variables are exposed to the browser
  - Used for client-side code
  - Examples: Firebase config (public by design)

- **Variables without NEXT_PUBLIC_** are server-only
  - Used only in API routes and server components
  - Examples: GEMINI_API_KEY
  - More secure as they're never sent to the client

### Environment-Specific Configurations

For different environments, use:
- `.env.local` - Local development (not committed)
- `.env.development` - Development environment defaults
- `.env.production` - Production environment defaults
- `.env.test` - Test environment

In hosting platforms (Vercel, Netlify, etc.):
- Configure these variables in the platform's dashboard
- Can have different values for Production, Preview, and Development

### Security Best Practices

1. **Never commit sensitive values**
   - Always use `.gitignore` to exclude `.env.local`
   - Don't paste API keys in public channels

2. **Rotate keys periodically**
   - Generate new API keys every few months
   - Revoke old keys after rotation

3. **Use environment-specific keys**
   - Different keys for development and production
   - Helps track usage and limit exposure

4. **Restrict API key permissions**
   - Firebase: Set up domain restrictions
   - Gemini: Set up API quotas and restrictions

### Troubleshooting

**Problem**: "Firebase configuration is invalid"
- Verify all 6 Firebase variables are set
- Check for typos in variable names
- Ensure no extra spaces or quotes

**Problem**: "AI features not working"
- Check if GEMINI_API_KEY is set
- Verify the API key is valid
- Check API quotas in Google Cloud Console
- Note: App works without this, using templates

**Problem**: Environment variables not loading
- Restart the development server after changing .env.local
- Verify the file is named exactly `.env.local`
- Check that the file is in the `wiki-profile-builder` directory

### Example .env.local file

```env
# Firebase (Required)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyDXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=my-wiki-app.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=my-wiki-app
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=my-wiki-app.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef123456

# Google Gemini AI (Optional)
GEMINI_API_KEY=AIzaSyBXXXXXXXXXXXXXXXXXXXXXXXXX
```

---

## Verifying Configuration

After setting up your environment variables, run these checks:

```bash
# 1. Check if .env.local exists
ls -la wiki-profile-builder/.env.local

# 2. Start the development server
cd wiki-profile-builder
pnpm dev

# 3. Check the browser console for any config errors

# 4. Try the following features:
#    - Load the homepage
#    - Try to register/login (tests Firebase)
#    - Try to generate a profile (tests Gemini if configured)
```

If everything is configured correctly:
- The app should load without errors
- Authentication should work
- Profile generation should work (AI or template mode)

---

## Additional Resources

- [Firebase Setup Guide](https://firebase.google.com/docs/web/setup)
- [Firebase Auth Docs](https://firebase.google.com/docs/auth)
- [Google AI Studio](https://makersuite.google.com/)
- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)
